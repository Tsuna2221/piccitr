(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){},107:function(e,t,a){},225:function(e,t,a){},252:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),n=a(82),o=a.n(n),s=(a(97),a(6)),c=a(7),l=a(9),m=a(8),u=a(10),p=a(256),d=a(255),h=(a(99),a(257)),f=a(18),v=(a(105),a(85)),b=a.n(v),g=a(86),y=a.n(g),w=(a(107),function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={sortType:""},a.handleChange=function(e){a.props.updateQuery(e.target.value)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"config-container "+this.props.isActive},i.a.createElement("div",{className:"opt-cell"},i.a.createElement("div",{className:"item-cell"},i.a.createElement("span",null,"Sort by:"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("input",{onChange:this.handleChange,className:"check-with-sortby",value:"hot",name:"sortby",type:"radio",id:"hot",defaultChecked:!0}),i.a.createElement("label",{className:"sortby-for-check",htmlFor:"hot"},"Hot")),i.a.createElement("li",null,i.a.createElement("input",{onChange:this.handleChange,className:"check-with-sortby",value:"new",name:"sortby",type:"radio",id:"new"}),i.a.createElement("label",{className:"sortby-for-check",htmlFor:"new"},"New")),i.a.createElement("li",null,i.a.createElement("input",{onChange:this.handleChange,className:"check-with-sortby",value:"rising",name:"sortby",type:"radio",id:"rising"}),i.a.createElement("label",{className:"sortby-for-check",htmlFor:"rising"},"Rising")),i.a.createElement("li",null,i.a.createElement("input",{onChange:this.handleChange,className:"check-with-sortby",value:"controversial",name:"sortby",type:"radio",id:"controversial"}),i.a.createElement("label",{className:"sortby-for-check",htmlFor:"controversial"},"Controversial")),i.a.createElement("li",null,i.a.createElement("input",{onChange:this.handleChange,className:"check-with-sortby",value:"top",name:"sortby",type:"radio",id:"top"}),i.a.createElement("label",{className:"sortby-for-check",htmlFor:"top"},"Top")))),i.a.createElement("div",{style:{display:"none"},className:"item-cell"},i.a.createElement("span",null,"Limit Image Draw n\xba:"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("input",{type:"text"})),i.a.createElement("span",null,'Max 100 items (onKeyDown="sendSearch()") ')))))}}]),t}(r.Component)),E=Object(f.b)(null,function(e){return{updateQuery:function(t){e({type:"UPDATE_SORT",sortBy:t})}}})(w),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={isActive:"inactive",subreddit:""},a.hideConfig=function(){"inactive"===a.state.isActive?a.setState({isActive:"active"}):a.setState({isActive:"inactive"})},a.storeSubreddit=function(e){var t=document.getElementById("subreddit-input").value;a.props.updateQuery(t)},a.redirectTo=function(e){""!==document.getElementById("subreddit-input").value&&(e.preventDefault(),window.location.href="?r="+a.props.query.subreddit+(""===a.props.query.sortBy?"&sort=hot":"&sort="+a.props.query.sortBy))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"SearchBar"},i.a.createElement("form",{onSubmit:this.redirectTo,id:"search-cell"},i.a.createElement("input",{id:"subreddit-input",autoComplete:"off",onChange:this.storeSubreddit,type:"text",className:"search-input",placeholder:"Search subreddit..."}),i.a.createElement("img",{onClick:this.redirectTo,src:b.a,alt:"none"}),i.a.createElement("img",{onClick:this.hideConfig,src:y.a,alt:"none"})),i.a.createElement(E,{isActive:this.state.isActive}))}}]),t}(r.Component),k=Object(f.b)(function(e){return{query:e}},function(e){return{updateQuery:function(t){e({type:"UPDATE_SEARCH",subreddit:t})}}})(Object(h.a)(N)),C=a(89),O=a.n(C),S=a(49),j=a.n(S),x=a(50),A=a.n(x),D=a(90),F=a.n(D),B=(a(225),function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={handlers:["v.redd.it","gfycat.com","clips.twitch.tv","youtube.com","youtu.be","streamable.com","i.imgur.com","pornhub.com","youporn.com"]},a.embedData=function(e,t){if(!t.includes(e.domain)&&void 0!==e.preview)return i.a.createElement("img",{src:e.preview.images[0].source.url,style:{width:"1500px"},alt:""});if("i.imgur.com"===e.domain&&"png"===e.url.split(".").slice(-1)[0])return i.a.createElement("img",{src:e.preview.images[0].source.url,style:{maxWidth:"auto",width:"1500px",height:"auto"},alt:""});if("i.imgur.com"===e.domain&&"jpg"===e.url.split(".").slice(-1)[0])return i.a.createElement("img",{src:e.preview.images[0].source.url,style:{maxWidth:"auto",width:"1500px",height:"auto"},alt:""});if("i.imgur.com"===e.domain&&"gifv"===e.url.split(".").slice(-1)[0])return i.a.createElement("video",{preload:"auto",autoplay:"autoPlay",muted:"muted",loop:"loop",style:{width:"1500px",maxHeight:"500px"},"webkit-playsinline":""},i.a.createElement("source",{src:"//i.imgur.com/"+e.url.split("/").slice(-1)[0].split(".")[0]+".mp4",type:"video/mp4"}));if("youtube.com"===e.domain||"youtu.be"===e.domain)return i.a.createElement("iframe",{className:"youtube-embed",src:"https://www.youtube.com/embed/"+e.media.oembed.thumbnail_url.split("/")[4],frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",title:"youtube",allowFullScreen:!0,style:{width:"1500px",maxHeight:"auto",height:"1500px"}});switch(e.domain){case"v.redd.it":return i.a.createElement("video",{controls:!0,autoPlay:!0,loop:!0,src:e.secure_media.reddit_video.fallback_url,style:{width:"100%",height:"100%",maxHeight:"500px"}});case"clips.twitch.tv":return i.a.createElement("iframe",{className:"twitch-embed",title:"twitch",src:"https://clips.twitch.tv/embed?clip="+e.url.split("/").slice(-1)[0],frameBorder:"0",allowFullScreen:"true",width:"1500px",height:"300px"});case"streamable.com":return i.a.createElement("iframe",{className:"stream-embed",title:"stream",src:"https://streamable.com/s/"+e.url.split("/").slice(-1)[0],frameBorder:"0",width:"1500px",height:"300",allowFullScreen:!0});case"gfycat.com":return i.a.createElement("iframe",{className:"gfycat-embed",title:"gfycat",src:"https://gfycat.com/ifr/"+e.url.split("/").slice(-1)[0],frameBorder:"0",allowFullScreen:!0,width:"1500px",height:"300px"});case"pornhub.com":return i.a.createElement("iframe",{className:"pornhub-embed",title:"pornhub",src:"https://pt.pornhub.com/embed/"+e.url.split("?")[1].split("=")[1].split("&")[0],frameBorder:"0",width:"1500px",allowFullScreen:!0});case"youporn.com":return i.a.createElement("iframe",{className:"youporn-embed",title:"youporn",src:"https://www.youporn.com/embed/"+e.url.split("/")[4],frameBorder:"0",width:"1500px",allowFullScreen:!0});default:return null}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"details-container "+this.props.postData.isActive},i.a.createElement("img",{onClick:this.props.hideOverlay,className:"closeBtn",src:F.a,alt:"Close Button"}),i.a.createElement("div",{id:"details"},i.a.createElement("div",{className:"ref-links"},i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.reddit.com"+this.props.postData.post.permalink},"Visit Post"),i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.postData.post.url},"Visit Link")),i.a.createElement("a",{className:"sub-name",target:"_blank",rel:"noopener noreferrer",href:"https://www.reddit.com/r/"+this.props.postData.post.subreddit},i.a.createElement("h1",null,"r/",this.props.postData.post.subreddit)),i.a.createElement("p",{className:"author-name"},"by: ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.reddit.com/u/"+this.props.postData.post.author},"u/",this.props.postData.post.author)," - from ",this.props.postData.post.domain),i.a.createElement("p",{className:"title"},this.props.postData.post.title),i.a.createElement("div",{className:"embedded-cell"},this.embedData(this.props.postData.post,this.state.handlers)),i.a.createElement("span",{className:"stats"},"Upvotes (",this.props.postData.post.ups,") - Comments (",this.props.postData.post.num_comments,")")))}}]),t}(r.Component)),P=a(51),_=a.n(P),T=a(20),W=a.n(T),H=(a(252),function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={posts:[],url:"https://www.reddit.com/r/all.json?raw_json=1&limit=65"+a.props.location.search.replace("?","&"),masonryOptions:{transitionDuration:400},selectedData:{isActive:"inactive",post:{}},visibleArrow:"invisible",errorMsg:""},a.componentDidMount=function(){var e="Could not retrieve posts. Please, try again.",t=W.a.parse(a.props.location.search);void 0!==t.r&&void 0===t.sort&&(window.location.href="/piccitr/?r="+t.r+"&sort=hot"),void 0===t.r?("undefined"===t.sort&&(window.location.href="/piccitr/?r="+t.r),_.a.get(a.state.url).then().then(function(e){a.setState({posts:e.data.data.children,visibleArrow:"visible"}),a.isEmptyFetch(e.data.data.children)}).catch(function(){return a.setState({errorMsg:e})})):_.a.get("https://www.reddit.com/r/"+t.r+"/"+(void 0===t.sort?"hot":t.sort)+".json?raw_json=1&limit=65"+a.props.location.search.replace("?","&")).then(function(e){a.setState({posts:e.data.data.children,visibleArrow:"visible"}),a.isEmptyFetch(e.data.data.children)}).catch(function(){return a.setState({errorMsg:e})})},a.isEmptyFetch=function(e){var t=W.a.parse(a.props.location.search).r;e.length<1&&(window.location.href=void 0===t?"/piccitr":"/piccitr/?r="+t)},a.goPreviousPage=function(){var e=a.state.posts[0].data.name,t=W.a.parse(a.props.location.search);void 0===t.r?window.location.href="?before="+e:window.location.href="?r="+t.r+"&sort="+t.sort+"&before="+e},a.goNextPage=function(){var e=a.state.posts.slice(-1)[0].data.name,t=W.a.parse(a.props.location.search);void 0===t.r?window.location.href="?after="+e:window.location.href="?r="+t.r+"&sort="+t.sort+"&after="+e},a.showOverlay=function(e){a.setState({selectedData:{isActive:"active",post:e}})},a.hideOverlay=function(){a.setState({selectedData:{isActive:"inactive",post:""}})},a.isNSFW=function(e){return!0===e.over_18&&"inactive"===document.cookie.split("=").slice(-1)[0]?"blur":""},a.setNSFWCheck=function(){"hideNSFW=active"===document.cookie?document.cookie="hideNSFW=inactive":document.cookie="hideNSFW=active",window.location.reload()},a.NSFWFlag=function(e){return!0===e.over_18?i.a.createElement("span",{className:"flag nsfw",style:{backgroundColor:"#9e2f2fcc"}},"nsfw"):""},a.dataType=function(e){var t=e.url.split(".").slice(-1)[0],a={image:["i.redd.it","imgur.com"],video:["v.redd.it","youtu.be","youtube.com","clips.twitch.tv","streamable.com","pornhub.com","youporn.com"],gif:["gfycat.com"]};if(a.gif.includes(e.domain))return"gif";if(a.video.includes(e.domain))return"video";if(a.image.includes(e.domain))return"image";switch(t){case"gifv":case"gif":return"gif";case"jpg":case"png":return"image";default:return"ex-img"}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.posts.map(function(t){return"self"!==t.data.domain.split(".")[0]&&void 0!==t.data.preview?i.a.createElement("div",{key:t.data.name,className:"post-cell"},i.a.createElement("div",{className:"image"},i.a.createElement("span",{className:"flag data-type",style:{backgroundColor:j()({luminosity:"dark",format:"rgba",alpha:.8})}},e.dataType(t.data)),e.NSFWFlag(t.data),i.a.createElement("img",{src:t.data.preview.images[0].source.url,className:"image-cell "+e.isNSFW(t.data),alt:"Post:"+t.data.title.substr(0,20)})),i.a.createElement("div",{className:"post-overlay",onClick:function(){return e.showOverlay(t.data)},style:{backgroundColor:j()({luminosity:"dark",format:"rgba",alpha:.8})}},i.a.createElement("div",{className:"post-details"},i.a.createElement("h1",null,"r/",t.data.subreddit),i.a.createElement("span",null,t.data.title.substr(0,80),"..."),i.a.createElement("h2",null,t.data.domain)))):null});return i.a.createElement("div",{id:"main-container"},i.a.createElement("div",{onClick:this.setNSFWCheck,className:"switch-btn switch-"+document.cookie.split("=").slice(-1)[0]},i.a.createElement("div",{className:"slider slide-"+document.cookie.split("=").slice(-1)[0]}),i.a.createElement("span",{className:"switch-note"},"NSFW")),i.a.createElement("p",{className:"error-message"},this.state.errorMsg),i.a.createElement(B,{postData:this.state.selectedData,hideOverlay:this.hideOverlay}),i.a.createElement("img",{onClick:this.goPreviousPage,src:A.a,alt:"Previous Page",className:"previous-btn arrow "+this.state.visibleArrow}),i.a.createElement("img",{onClick:this.goNextPage,src:A.a,alt:"Next Page",className:"next-btn arrow "+this.state.visibleArrow}),i.a.createElement(O.a,{id:"posts-container",elementType:"div",options:this.state.masonryOptions,disableImagesLoaded:!1,updateOnEachImageLoad:!0},t))}}]),t}(r.Component)),I=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,null,i.a.createElement("div",{className:"App"},i.a.createElement("a",{id:"logo-anchor",target:"_blank",rel:"noopener noreferrer",href:"https://www.github.com/tsuna2221/piccitr"},i.a.createElement("div",{id:"page-logo"})),i.a.createElement(k,null),i.a.createElement(d.a,{path:"/",component:H})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(30),R={subreddit:"",sortBy:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_SEARCH"===t.type&&(R.subreddit=t.subreddit),"UPDATE_SORT"===t.type&&(R.sortBy=t.sortBy),e},q=Object(M.b)(U);o.a.render(i.a.createElement(f.a,{store:q},i.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,t,a){e.exports=a.p+"static/media/Arrow.9e006c7a.svg"},85:function(e,t,a){e.exports=a.p+"static/media/SubmitSearch.fe56f6da.svg"},86:function(e,t,a){e.exports=a.p+"static/media/SettingsButton.15c7ebf3.svg"},90:function(e,t,a){e.exports=a.p+"static/media/CloseButton.80979d47.svg"},92:function(e,t,a){e.exports=a(254)},97:function(e,t,a){},99:function(e,t,a){}},[[92,2,1]]]);
//# sourceMappingURL=main.90f586e4.chunk.js.map
